2001-05-08  Arturo Espinosa Aldama  <arturo@ximian.com>

	* transfer.c (xst_xml_element_get_boolean): utility.
	(transfer_misc_xml_to_tool): Also get the dialinstalled
	flag from the XML.

	* main.c (main): add check_dialer apply hook.

	* callbacks.c (on_network_admin_show): hiding dns_dhcp
	until it actually does sth.
	(callbacks_check_dialer_hook): Warn the user if wvdial
	is not installed.

	* transfer.c (transfer_string_list_gui_to_xml): fixed
	core dump caused by editables not ending in \n.

2001-04-26  Chema Celorio  <chema@celorio.com>

	* Makefile.am: add $(srcdir) to security.in

2001-04-20  Arturo Espinosa Aldama  <arturo@ximian.com>

	* main.c (main): Moved init_editable_filters inisde else
	clause: it's not required for the ppp druid.

	* connection.c (hookup_callbacks): put some filters to the
	entries in the connection dialog too.

	* callbacks.c (is_char_ok): Allow _ and - if EF_ALLOW_TEXT.
	(init_editable_filters): Moved code from main() to here.

2001-04-19  Arturo Espinosa Aldama  <arturo@ximian.com>

	* main.c (main): spaces are not allowed for the alias text area.

	* hosts.c (xst_hosts_update_sensitivity): change button is no longer used.
	(on_hosts_alias_changed): record updating is done now as we type.

	* connection.c (connection_update_row): Doesn't call connection_update_enabled
	  anymore. Calling this by hand where needed in this file.

	* callbacks.c (on_dns_dhcp_toggled): changes sensitivity for the whole
	  dns_table.

	* transfer.c (transfer_misc_xml_to_tool): add an object data that flags if
	  the tool has passed the configuration phase, so the callback knows what's
	  the conext.

	* main.c: samba_use widget doesn't automatically call modify_cb: it depends
	  on samba being actually installed.

	* connection.c (connection_clist_cmp): comparisong function that sorts by
	  dev, then by description.
	(connection_init_clist): Configure the connections clist.
	(connection_init_gui): call init_clist.
	(connection_add_to_list): deleted spurious code.

	* callbacks.c (on_connection_add_clicked): use new_from_type.
	(on_samba_use_toggled): Check if we are in configuration fase. If so and
	  samba is not installed and we are trying to activate smb, show message.
	  Don't call modify_cb if !smb_installed.


2001-04-17  Arturo Espinosa Aldama  <arturo@ximian.com>

	* transfer.c (transfer_misc_xml_to_tool): set flags and variables that don't
	  have a related GUI element, such as smb_installed.
	  In general, passed the tool var to all functions and deleted global tool
	  pointer.

	* callbacks.c (on_samba_use_toggled): if samba is not installed, don't allow
	  windows networking activation, and send according message to user.

	* connection.c (empty_general, fill_general, hookup_callbacks): removed code
	regarding the old "enable" check, which caused warnings.

2001-04-14  Chema Celorio  <chema@celorio.com>

	* connection.c (connection_dev_get_next): add a g_return_if_fail to
	avoid a crash. Add a #warning so that arturo fixes the real problem.

2001-04-03  Arturo Espinosa Aldama  <arturo@ximian.com>

	* main.c (main): add update_connections hook.

	* connection.c (connection_set_row_pixtext): Sepparated this code
	from connection_update_row_enabled to call from new hook.

	* callbacks.c (callbacks_update_connections_hook): A hook to change
	the connections labels when applying.

2001-03-30  Tambet Ingo  <tambet@ximian.com>

	* Makefile.am: Add gconf cflags.

2001-03-28  Arturo Espinosa Aldama  <arturo@ximian.com>

	* transfer.c (transfer_string_entry_table): Added smbuse entry.

2001-03-23  Tambet Ingo  <tambet@ximian.com>

	* connection.c (connection_xml_get_str): Removed. We already had that
	  function in common/xst-xml.c Replaced in callers too.

2001-03-22  Arturo Espinosa Aldama  <arturo@ximian.com>

	* callbacks.c (on_connection_delete_clicked): If the connection has
	  no name, don't try to display it when confirming.
	* connection.c: PLIP connections don't require the netmask param
	  anymore.
	* connectioin.[hc]: When creating an interface, the configure
	  dialog comes up. If Cancel is hit, delete the interface.

2001-03-16  Hans Petter Jansson  <hpj@ximian.com>

	* main.c: Added widget policy table.
	  (main): Added call to xst_dialog_set_widget_policies ().

	* callbacks.c (on_network_admin_show): Removed manual widget policing
	  based on access.
	  (connection_actions_set_sensitive): Use
	  xst_dialog_widget_set_user_sensitive ().
	  (on_dns_dhcp_toggled): Ditto.
	  (on_samba_use_toggled): Ditto.
	  (on_wins_use_toggled): Ditto.
	  (callbacks_check_hostname_hook): Fixed spelling and broke up string
	  for nicer source formatting.

2001-03-12  Arturo Espinosa Aldama  <arturo@ximian.com>

	* connection.c: PLIP support. Don't care if nobody cares.
	* hosts.c: deleted all debug messages.
	* ppp-druid.c: deleted all debug messages.
	* transfer.c: deleted all debug messages.
	
2001-03-12  Arturo Espinosa Aldama  <arturo@ximian.com>

	* connection.c (connection_update_row_enabled): Function that
	  sets the "active" column, and if it is to enable, disables all
	  other connection configurations that use the same device.
	  (connection_update_row): Use the new function.

	* callbacks.c (on_connection_activate_clicked): Use the new function.
	(on_connection_deactivate_clicked): Use the new function.

2001-03-05  Arturo Espinosa Aldama  <arturo@ximian.com>

	* main.c (main): Add callbacks_check_hostname_hook to the list of
	apply hooks.

	* callbacks.c (callbacks_check_hostname_hook): Check if hostname
	changed, and if so, warn the user with the option to revert the
	host change.

2001-03-01  Arturo Espinosa Aldama  <arturo@ximian.com>

	* main.c: added activation callbacks to table.

	* connection.c (connection_update_row): Made this function public.

	* callbacks.c (on_connection_deactivate_clicked): activation callback.
	(on_connection_activate_clicked): activation callback.

	* connection.c (load_icon): scale to 16x16, not 24x24. Now the list
	looks much better.
	* moved to new unified xst_iface_desc table, instead of a bunch of
	little tables.

2001-03-01  Chema Celorio  <chema@celorio.com>

	* connection.c (load_icon): constify
	move all the table of connection types outside. This is not compiling
	but Arturo is going to finish it.

2001-03-01  Arturo Espinosa Aldama  <arturo@ximian.com>

	* callbacks.c (on_connection_delete_clicked): Better confirm message.

	* connection.c (connection_free): free allocated strings and destroy
	XML node.

2001-02-28  Hans Petter Jansson  <hpj@ximian.com>

	* Makefile.am: Disable control-center entry.

2001-02-28  Arturo Espinosa Aldama  <arturo@ximian.com>

	* connection.c (connection_wvsection_name_generate): forgot ++i. it hung.

2001-02-27  Arturo Espinosa Aldama  <arturo@ximian.com>

	* transfer.c (transfer_string_entry_table): add wins_use.
	(transfer_string_entry_xml_to_gui): fix support for toggle buttons.
	(transfer_string_entry_gui_to_xml): fix support for toggle buttons.

	* main.c: signals for wins_use.

	* hosts.c (xst_hosts_update_sensitivity): don't let loopback
	statichost entry be modified.
	(on_hosts_add_clicked): highlight newly added entry.

	* connection.c (connection_new_from_node): take global gateway
	param if one for the connection is not present.
	(fill_ppp_adv): set wins_use state.

	* callbacks.c (on_connection_delete_clicked): Activate "Apply".
	(on_wins_use_toggled): callback for new check button.
	

2001-02-27  Chema Celorio  <chema@celorio.com>

	* Makefile.am (EXTRA_DIST): distcheck fixes

2001-02-27  Arturo Espinosa Aldama  <arturo@ximian.com>

	* ppp-druid.c (my_get_widget): support new widget name prefix.
	  (ppp_druid_get_serial_port): to get the default serial port:
	  most people have only 1 modem.
	  (ppp_druid_save): get all required info into the connection
	  structure and signal the tool to apply.
	  (ppp_druid_gui_to_xml): tool callback to apply the ppp druid
	  info into the XML.

	* main.c (watch_it_now_watch_it): not pertinent anymore.
	  all widgets connected to delete_text are now connected to changed.
	  (main): popt options moved here.
	  Due to glade file merge, start-up code is now better shared.
	  

	* connection.c (connection_wvsection_name_generate): replacement for
	  devkey_generate. This one creates a less arbitrary name.
	  (connection_dev_get_next): Try to find the next device of the requested
	  type. Useful for ppp, but will probably have to be more intelligent for
	  other interface types.
	  (connection_get_serial_port_from_node): Get the modem device for a
	  wvsection. Very useful for section "Defaults".
	  (connection_new_from_type): don't call add_connection_to_list here.
	  (connection_new_from_type_add): do it here. For code reusability. Also,
	  pass the root node in these two, to use the system discovery tags.

	* callbacks.c (on_connection_list_select_row): don't set the actions sensitive
	  if a loopback interface is selected.
	
2001-02-26  Chema Celorio  <chema@celorio.com>

	* hosts.c: more fixes for the hosts lists

2001-02-26  Arturo Espinosa Aldama  <arturo@ximian.com>

	* transfer.c (transfer_string_clist2_gui_to_xml_item): Take data from correct rows.

2001-02-24  Arturo Espinosa Aldama  <arturo@ximian.com>

	* connection.[hc]: peerdns support.
	
2001-02-24  Arturo Espinosa Aldama  <arturo@ximian.com>

	* connection.c (connection_xml_wvsection_search): specify type you are looking for.
	(connection_xml_wvsection_get_inherits_node): for the code's sake. Also, improves
	wvdial support, as this function looks for the Defaults section if the section
	doesn't inherit anything.
	(connection_xml_wvsection_node_get_str): Finally, a compact function that gets it
	right too.

2001-02-23  Arturo Espinosa Aldama  <arturo@ximian.com>

	* connection.h: struc Connection: use gchar, gint and gfloat types. file field.

	* connection.c (connection_devkey_generate): name change from wvsection_generate.
	(connection_get_ppp_from_node):	for code readability. Don't get if interface is
	not CONNECTION_PPP type.
	(connection_new_from_node): handle the file tag.
	(connection_new_from_type): the default autoboot value varies on the type.
	

2001-02-23  Chema Celorio  <chema@celorio.com>

	* main.c: update some signals

	* hosts.c: and into here. Rewrite it is now smarter when the user
	types an ip that is on the list. The button sensitivity now makes
	a bit more sense than before.

	* callbacks.c: remove all the statichosts from here

2001-02-22  Chema Celorio  <chema@celorio.com>

	* callbacks.c (on_statichost_add_clicked): remove the enable/disbale
	thingie.

	* transfer.c (transfer_string_clist2_xml_to_gui): remove the enable/disable
	thingie

	* callbacks.c (on_statichost_update_clicked): remove the enable thingie
	(on_statichost_add_clicked): ditto
	(on_statichost_changed): ditto

2001-02-22  Arturo Espinosa Aldama  <arturo@ximian.com>

	* connection.c (connection_xml_wvsection_search): return the node of a wvsection, by name.
	* connection.c (connection_xml_wvsection_save_str_to_node): and the boolean counterpart.
	* connection.c (connection_wvsection_generate): generate a random wvsection name.
	* connection.c: a bunch of widget renamings, for consistent naming, and PPP parameter saving.

2001-02-22  Chema Celorio  <chema@celorio.com>

	* transfer.c (transfer_string_clist2_xml_to_gui): plug a mem-leak
	: remove g_prints
	(transfer_string_clist2_xml_to_gui): another one

2001-02-22  Chema Celorio  <chema@celorio.com>

	* add xst_ prefix to the xml_ functions

2001-02-22  Chema Celorio  <chema@celorio.com>

	* connection.c: fix cvs conflicts

2001-02-22  Arturo Espinosa Aldama  <arturo@ximian.com>

	* callbacks.c (scrolled_window_scroll_bottom): helper.
	  Changed the connection_type* widget names.
	* callbacks.c (on_connection_add_clicked): When adding a connection, 
	  pop up its config dialog immediatly, and scroll clist to the bottom, 
	  to see the newly created element.
	* connection.c: Changed all status_button stuff to status_enabled.
	  wvsection XML reading functions for ppp parameters.
	* connection.c (connection_new_from_node): Fill all the ppp params.
	* connection.c (fill_ppp): implemented.
	* connection.c (fill_ppp_adv): implemented.
	* connection.c (connection_configure): kill ip page when configuring for
	  a ppp iface.
	* connection.h (Connection): new ppp members in structure.

2001-02-21  Chema Celorio  <chema@celorio.com>

	* transfer.c (transfer_gui_to_xml): remove #if 0 that I left
	here.

2001-02-21  Chema Celorio  <chema@celorio.com>

	* connection.c (connection_description_from_type): return a const
	string. Avoids a crash.
	(connection_new_from_node): g_strdup the string that goes
	into cxt->name.

2001-02-21  Arturo Espinosa  <arturo@ximian.com>

	* connection.c: changed some callback names and set stuff up
	  for the new OK/Cancel dialog form.
	
2001-02-20  Arturo Espinosa  <arturo@ximian.com>

	* connection.c: added static directive to all functions that
	  were not used elsewhere. Renamed some callbacks to follow
	  glade naming.
	  (my_get_widget): issues warning when widget could not be found.
	  (my_entry_set_text): if text is NULL, use empty string.
	  (connection_xml_get_str): saves from repetitive work.
	  (connection_xml_get_boolean): same.
	  (connection_xml_save_str_to_node): creates/destroys node if necessary.
	  (connection_xml_save_boolean_to_node): same, just interpreting as a boolean.
	  (connection_config_type_from_str): take XML string value, give a type.
	  (connection_config_type_to_str): take connection type, give XML string value.
	  (connection_init_icons): saner name for init_icons.
	  Commented out add_connections_to_list.
	  (connection_description_from_type): gives a default description to interfaces, by type.
	  Handle PLIP and LO connection types.
	  (connection_save_to_node): Write dev, name, enabled, user, auto, address, netmask, broadcast,
	  network, gateway and bootproto features.
	  (connection_new_from_node): same, but for reading. Save xml node used for subsequent saving.
	* connection.h:
	  (Connection): handle new features, and renamed others to match tag names.
	    Member to keep xml node.
	  Added "extern" directive to public functions.
	  PLIP and LO connection types.
	* main.c: call connection_init_icons instead.
	* transfer.c: uncomment interface saving call.
	
2001-02-19  Chema Celorio  <chema@celorio.com>

	* transfer.c (transfer_string_clist2_gui_to_xml): split into
	(transfer_string_clist2_gui_to_xml_item): and clean 

2001-02-19  Arturo Espinosa  <arturo@ximian.com>

	* transfer.c: don't add "enabled" attribute.
	  Fixed bug that repeated ip tag inside statichost tags.
	* connection.c: (connection_new_from_node): set enabled bool.
	  method tag is now named bootproto. comply.

2001-02-17  Chema Celorio  <chema@celorio.com>

	* main.c (options): add options to network. 
	(main): only run the internet druid if "--internet" is specified on
	the command line

2001-02-17  Arturo Espinosa  <arturo@ximian.com>

	* ppp-druid.c: support for password confirmation, a more general
	  entry activation handler and command argument parsing: now you
	  use --internet_druid to come up with the druid.
	  
2001-02-16  Chema Celorio  <chema@celorio.com>

	* network.desktop.in: change the name to Newtworking
	from Networking 2

2001-02-16  Arturo Espinosa  <arturo@ximian.com>

	* ppp-druid.c: the GUI is almost finished. Added some warning
	  labels that come up when the user is trying to put invalid
	  data. The code has been tested an bug fixed.
	
2001-02-15  Arturo Espinosa  <arturo@ximian.com>

	* ppp-druid.[hc]: Initial experimental code for druid.
	  Still lacking a couple of functions, but almost complete.
	  No XML transferring yet.
	
2001-02-12  Arturo Espinosa  <arturo@ximian.com>

	* ppp-druid.[hc]: We'll start coding in these files the
	internet connection druid.
	* Makefile.am: take these new files as sources too.

2001-02-09  Chema Celorio  <chema@celorio.com>

	* transfer.c (transfer_string_list_gui_to_xml): fix a bug
	when we multiple entries where beeing merged.

2001-02-06  jacob berkman  <jacob@ximian.com>

	* main.c: add signals list

2001-02-03  Christian Meyer  <chrisime@gnome.org>

	* network.desktop.in: Added German strings.
	 
2001-02-02  jacob berkman  <jacob@ximian.com>

	* *.c: port to new api

2001-01-29  Arturo Espinosa  <arturo@ximian.com>

	* connection.c: connection_new_from_dev_name: take the connection
	type from the device name, displaying the right icon for the loaded
	configuration.

2001-01-29  jacob berkman  <jacob@ximian.com>

	* callbacks.c: use more helpful messages

2001-01-18  jacob berkman  <jacob@ximian.com>

	* connection.c (update_status): fixup activate stuff

	* transfer.c: read the interfaces from the backend

	* connection.c (connection_configure): fix up the help button, but
	disable it for now since there is no help for this dialog

2001-01-16  jacob berkman  <jacob@ximian.com>

	* connection.c: fix sensitivity on ip page based on config type.
	Also some other stuff.
	
2001-01-15  Chema Celorio  <chema@celorio.com>

	*  Start ChangeLog

